<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>the shop. | your orders</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="{{ url_for('static', filename='homepage.css')}}">

</head>
<body>
    <header>
        {% include 'nav.html' %}
    </header>

    <div class="container">
        <div class="container-sm">
            <img src="{{pic}}" class="rounded-circle" height="45em"> 
            &nbsp;{{user}}
        </div>
        <div class="container-sm">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Order ID</th>
                        <th scope="col">Items</th>
                        <th scope="col">Seller</th>
                        <th scope="col">Order Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                    
                    </tr>
                </tbody>
              </table>
        </div>
    </div>


    <script src="https://kit.fontawesome.com/b7cadf2b6a.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <!-- <script>
        function showError(message) {
        // Hide the table and button in the event of error
        $('#booksTable').hide();
        $('#addBookBtn').hide();
 
        // Display an error under the main container
        $('#main-container')
            .append("<label>"+message+"</label>");
    }
 
    // anonymous async function 
    // - using await requires the function that calls it to be async
    $(async() => {           
        // Change serviceURL to your own
        var serviceURL = "http://127.0.0.1:5000/book";
 
        try {
            const response =
             await fetch(
               serviceURL, { method: 'GET' }
            );
            const result = await response.json();
             if (response.status === 200) {
                // success case
                var books = result.data.books; //the array is in books within data of 
                                               // the returned result
                // for loop to setup all table rows with obtained book data
                var rows = "";
                for (const book of books) {
                   eachRow ="<td>" + book.title + "</td>" +
                            "<td>" + book.isbn13 + "</td>" +
                            "<td>" + book.price + "</td>" +
                            "<td>" + book.availability + "</td>";
                   rows += "<tr>" + eachRow + "</tr>";
                }
                    // add all the rows to the table
                    $('#booksTable').append(rows);
                } else if (response.status == 404) {
                    // No books
                    showError(result.message);
                } else {
                    // unexpected outcome, throw the error
                    throw response.status;
                }
            } catch (error) {
                // Errors when calling the service; such as network error, 
                // service offline, etc
                showError
        ('There is a problem retrieving books data, please try again later.<br />' + error);
                } // error
        });

    </script> -->
</body>
</html>